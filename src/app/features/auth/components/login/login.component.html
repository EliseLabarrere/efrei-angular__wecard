<div class="connexion">
  <div class="connexion__intro">
    <h1 class="text-3xl font-bold text-center text-gray-900 dark:text-white">
      Connexion à votre compte
    </h1>
    <p class="mt-2 text-center text-sm text-gray-600 dark:text-gray-400">
      Heureux de vous revoir !
    </p>
  </div>
  <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="connexion__form">
    <!-- Email -->
    <div class="connexion__form-field">
      <label for="email" class="connexion__form-field--label"> Adresse email </label>
      <input
        id="email"
        type="email"
        formControlName="email"
        class="connexion__form-field--input"
        [class.border-red-500]="isFieldInvalid('email')"
      />
      @if (isFieldInvalid('email')) {
        <p class="connexion__form-field--error">
          {{ getFieldError('email') }}
        </p>
      }
    </div>

    <!-- Password -->
    <div class="connexion__form-field">
      <label for="password" class="connexion__form-field--label"> Mot de passe </label>
      <input
        id="password"
        type="password"
        formControlName="password"
        class="connexion__form-field--input"
        [class.border-red-500]="isFieldInvalid('password')"
      />
      @if (isFieldInvalid('password')) {
        <p class="connexion__form-field--error">
          {{ getFieldError('password') }}
        </p>
      }
    </div>

    <!-- Remind me button and Forget password link -->
    <div class="connexion__form-action">
      <label class="" for="remember-me"
        ><input class="" id="remember-me" name="remember-me" type="checkbox" /> Se souvenir de
        moi</label
      >
      <a class="connexion__form-action--link" routerLink="/auth/forget-password">
        Mot de passe oublié ?
      </a>
    </div>

    <!-- Submit Button -->
    <div>
      <button
        type="submit"
        [disabled]="loginForm.invalid || loading()"
        class="connexion__form-submit"
      >
        @if (loading()) {
          <span class=""></span>
          Connexion en cours...
        } @else {
          Se connecter
        }
      </button>
    </div>

    <!-- Error Message -->
    @if (error()) {
      <p class="connexion__form-field--error text-center">{{ error() }}</p>
    }
  </form>
</div>
